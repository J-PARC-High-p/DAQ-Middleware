1.1.2 2012-XX-XX Hiroshi Sendai

Not yet released.

Summary

- API has not changed from 1.1.1.
- Fix return value of writeAll() when EPIPE error occured.
- Fix a bug that firefox sends SYN packet every time we click the buttons.
- Add daqcom utility to communicate with httpd server in command line.

Details

BUG FIX: Sock.cpp writeAll() did not return ERROR_FATAL
         when EPIPE error occured.
BUG FIX: Firefox had sent SYN  packets every time we click the buttons.
         This behavior caused huge memory consumption and we could not get
         any feedback when we click buttons.
FEATURE: Add daqcom utility.  You can commiucate with httpd server by using
         this command.  Use daqcom --help to get usage.

1.1.1 2011-12-01 Hiroshi Sendai

Summary

- API has not changed from 1.1.0.
- Update Developer's Manual.
- Fix memory leaks on DaqOperatorComp.
- Sock library UDP part bug fix.
- Add -O option to run.py (specify log file when run in Web mode).
- sleep time in daq_base_dummy() (this method is called when the component
  is in LOADED, CONFIGURED, and UNCONFIGURED) is reduced to 10 m sec.
  To incorporate this fix, users have to recompile their components.

Details

BUG FIX: UPD part of Socket library was not set properly.  This bug does not
         affect on Socket TCP library.
BUG FIX: There were several memory leaks on DaqOperatorComp.
BUG FIX: sleep time in daq_base_dummy() (was 1 second) caused ParameterClient.h
         timeout.  

1.1.0 2011-06-17 Hiroshi Sendai

Summary

- Add x86_64 architecture support.
- API changes: set_footer() and check_footer() are now has one argument
  for footer buffer.  All users have to rewrite their source code if you
  use set_footer() and check_footer().  To use new API, remove second
  argument of set_footer() and check_footer and re-compile the components.
- Backward compatibility to DAQ-Middleware for MLF (2010.10 etc) on
  reset_onError().  All users have to recompile their components to use
  backward compatibility feature.
- Add Web User interface.

Details

API:     set_footer() and check_footer() has only one argument for footer
         buffer.
BUG FIX: Backward compatibility on reset_onError().
FEATURE: Support x86_64 architecture on Scientific Linux 5.x, CentOS 5 and
         RedHat Enterprise Linux.  Changes are:
         - Fix idl for x86_64. Compile verified on x86_64 with omniORB 4.1.4,
           i686 with omniORB 4.0.7 and i686 with omniORB 4.1.4
         - Install library files to /usr/lib64 if uname -m returns x86_64 AND
           /usr/lib64 exists.  Otherwise library files will be installed in
           /usr/lib.
         - New variable DAQMW_LIB_DIR in comp.mk. If uname -m returns x86_64
           AND /usr/lib64 exists, DAQMW_LIB_DIR=/usr/lib64.
           Otherwise DAQMW_LIB_DIR=/usr/lib.
           Makefile of the Sample components in examples directory uses
           this variable now. 
FEATURE: Don't remove source files.  Previous comp.mk would remove
         source files if source file name is *.cc.
FEATURE: Stricter check on ROOT development environment on ROOTSYS variable
         of the SampleMonitor's Makefile.
FEATURE: Add Web user interface.
CLEANUP: Remove unused data_header_footer.h.

1.0.2 2011-02-08 Hiroshi Sendai

Summary

- Add sample implementation of the logger component in examples directory
  (/usr/share/daqmw/examples/Logger).  Sample configuration file is at
  /usr/share/daqmw/conf/4comps.xml .
- All users have to recompile their components to have display valid strings
  when fatal error occured.

Details

BUG FIX: Correction of the order of strings at toString() in FatalType.h
FEATURE: Add SampleLogger in examples directory.
CLEANUP: Remove unneccessary include files from example source.

1.0.1 2011-01-21 Hiroshi Sendai

Summary

- All users have to recompile their components to have get_run_number() work
  properly.
- Libraries (Sock, Json) have not been changed.
- We have dispatcher in the example directory.
- We have documentation in the documentation directory (/usr/share/daqmw/docs).

Details

BUG FIX: get_run_number() did not return the run number but always returned 0.
BUF FIX: DaqOperator coredumped if the component is SkeletonComp only.
FEATURE: Add dispatcher component in the example directory
         (/usr/share/daqmw/examples).
FEATURE: Add documentation (DAQ-Middleware Technical Manual and Developer's
         Manual).
CLEANUP: Remove ConfFileParser::setList(std::vector & list, char*, char*)
         from ConfFileParser.cpp because no one does not use this method.
CLEANUP: Remove src/DaqOperator/ServerSocket.{h,cpp}.  No one does not use
         this.
CLEANUP: add #include <stdio.h> in src/lib/SiTCP/CPP/Sock/Sock.h and
         src/DaqOperator/CreateDom.h to be able to compile with gcc44.
CLEANUP: Move set_status() from private to protected in
         src/DaqComponent/DaqComponentBase.h (pointed out by Hosoya san).

1.0.0 2010-08-01 Hiroshi Sendai

DAQ-Middleware 1.0.0 Initial Release.
